(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{25278:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var i=a(95155),c=a(6874),l=a.n(c),d=a(12115),n=a(35695),r=a(88145),t=a(97168),o=a(88482),m=a(15168),x=a(61109);let h=(0,a(19946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var u=a(23837),j=a(62525),p=a(84616),v=a(99840),N=a(89852),f=a(53580);let b=e=>e?"conforme"===e?(0,i.jsx)(r.E,{className:"bg-emerald-600 hover:bg-emerald-600",children:"Conforme"}):"nao_conforme"===e?(0,i.jsx)(r.E,{className:"bg-rose-600 hover:bg-rose-600",children:"N\xe3o conforme"}):(0,i.jsx)(r.E,{className:"bg-amber-500 hover:bg-amber-500",children:"N/A"}):(0,i.jsx)(r.E,{variant:"outline",children:"Pendente"});function g(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),{toast:a}=(0,f.dj)(),c=String((null==e?void 0:e.id)||""),[g,w]=(0,d.useState)(null),[C,k]=(0,d.useState)(!1),[E,z]=(0,d.useState)("");return((0,d.useEffect)(()=>{let e=!0;return(async()=>{let s=await (0,x.ZA)(c);e&&w(s)})(),()=>{e=!1}},[c]),g)?(0,i.jsxs)("main",{className:"mx-auto w-full max-w-3xl p-4",children:[(0,i.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,i.jsxs)(t.$,{variant:"outline",onClick:()=>s.push("/"),children:[(0,i.jsx)(h,{className:"mr-2 h-4 w-4"}),"Voltar"]}),(0,i.jsx)(r.E,{variant:g.completo?"default":"secondary",children:g.completo?"Completo":"Incompleto"})]}),(0,i.jsxs)(o.Zp,{className:"border-zinc-200",children:[(0,i.jsxs)(o.aR,{children:[(0,i.jsx)(o.ZB,{className:"text-base",children:"Resumo do Checklist"}),(0,i.jsxs)("div",{className:"text-[11px] text-zinc-500",children:["Criado em: ",g.criadoEm]})]}),(0,i.jsxs)(o.Wu,{className:"space-y-4",children:[(0,i.jsx)("div",{className:"rounded-md border",children:(0,i.jsxs)("div",{className:"p-3 grid gap-2 text-xs text-zinc-700",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Placa: "}),(0,i.jsx)("span",{children:g.dadosIniciais.placa})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Motorista: "}),(0,i.jsx)("span",{children:g.dadosIniciais.motorista})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Inspetor: "}),(0,i.jsx)("span",{children:g.dadosIniciais.inspetor})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Marca: "}),(0,i.jsx)("span",{children:g.dadosIniciais.marca})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Modelo: "}),(0,i.jsx)("span",{children:g.dadosIniciais.modelo})]})]})]})}),(0,i.jsx)("div",{className:"rounded-md border",children:(0,i.jsxs)("div",{className:"p-3",children:[(0,i.jsx)("div",{className:"mb-2 text-sm font-medium",children:"Verifica\xe7\xf5es (Etapa 2)"}),(0,i.jsx)("div",{className:"grid gap-2",children:g.verificacoes.map((e,s)=>(0,i.jsxs)("div",{className:"rounded-md border p-2",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm",children:e.titulo}),e.detalhe&&(0,i.jsx)("div",{className:"text-[11px] text-zinc-500",children:e.detalhe})]}),b(e.status)]}),e.observacoes&&(0,i.jsxs)("div",{className:"mt-1 rounded bg-zinc-50 p-2 text-[11px] text-zinc-700",children:[(0,i.jsx)("span",{className:"font-medium",children:"Obs.: "}),e.observacoes]})]},"".concat(e.titulo,"-").concat(s)))})]})}),(0,i.jsx)("div",{className:"rounded-md border",children:(0,i.jsxs)("div",{className:"p-3",children:[(0,i.jsx)("div",{className:"mb-2 text-sm font-medium",children:"Inspe\xe7\xf5es (Etapa 3)"}),(0,i.jsx)("div",{className:"grid gap-3",children:g.inspecoes.map((e,s)=>(0,i.jsxs)("div",{className:"rounded-md border p-2",children:[(0,i.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,i.jsx)("div",{className:"text-sm",children:e.titulo}),b(e.status)]}),e.observacoes&&(0,i.jsxs)("div",{className:"mb-2 rounded bg-zinc-50 p-2 text-[11px] text-zinc-700",children:[(0,i.jsx)("span",{className:"font-medium",children:"Obs.: "}),e.observacoes]}),e.midias.length>0?(0,i.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:e.midias.map((e,s)=>(0,i.jsx)("div",{className:"relative overflow-hidden rounded-md border",children:(0,i.jsx)("img",{src:e.dataUrl||"/placeholder.svg?height=96&width=160&query=inspecao-foto",alt:e.nome,className:"h-24 w-full object-cover",crossOrigin:"anonymous"})},"".concat(e.nome,"-").concat(s)))}):(0,i.jsx)("div",{className:"text-[11px] text-zinc-500",children:"Sem fotos."})]},"".concat(e.titulo,"-").concat(s)))})]})}),(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)(t.$,{variant:"outline",onClick:()=>(0,m.X)(g),children:[(0,i.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Download PDF"]}),(0,i.jsxs)(v.lG,{open:C,onOpenChange:k,children:[(0,i.jsx)(v.zM,{asChild:!0,children:(0,i.jsxs)(t.$,{variant:"destructive",children:[(0,i.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Excluir"]})}),(0,i.jsxs)(v.Cf,{children:[(0,i.jsxs)(v.c7,{children:[(0,i.jsx)(v.L3,{children:"Confirmar exclus\xe3o"}),(0,i.jsxs)(v.rr,{children:["Digite ",(0,i.jsx)("span",{className:"font-semibold",children:"delete"})," para confirmar a exclus\xe3o do checklist."]})]}),(0,i.jsx)(N.p,{autoFocus:!0,placeholder:"Digite delete",value:E,onChange:e=>z(e.target.value)}),(0,i.jsx)(v.Es,{children:(0,i.jsx)(t.$,{variant:"destructive",disabled:"delete"!==E,onClick:()=>{(0,x.Yq)(g.id),a({title:"Checklist exclu\xeddo"}),s.push("/")},children:"Confirmar exclus\xe3o"})})]})]})]})]})]}),(0,i.jsx)("div",{className:"fixed inset-x-3 bottom-3",children:(0,i.jsx)(l(),{href:"/checklist",className:"block",children:(0,i.jsxs)(t.$,{className:"w-full h-12 rounded-lg shadow-lg",children:[(0,i.jsx)(p.A,{className:"mr-2 h-5 w-5"}),"Novo checklist"]})})})]}):(0,i.jsxs)("main",{className:"mx-auto w-full max-w-3xl p-4",children:[(0,i.jsxs)(t.$,{variant:"outline",onClick:()=>s.push("/"),children:[(0,i.jsx)(h,{className:"mr-2 h-4 w-4"}),"Voltar"]}),(0,i.jsx)(o.Zp,{className:"mt-4",children:(0,i.jsx)(o.Wu,{className:"p-4 text-sm text-zinc-600",children:"Checklist n\xe3o encontrado."})})]})}},35695:(e,s,a)=>{"use strict";var i=a(18999);a.o(i,"useParams")&&a.d(s,{useParams:function(){return i.useParams}}),a.o(i,"useRouter")&&a.d(s,{useRouter:function(){return i.useRouter}})},75396:(e,s,a)=>{Promise.resolve().then(a.bind(a,25278))}},e=>{var s=s=>e(e.s=s);e.O(0,[930,652,238,366,441,684,358],()=>s(75396)),_N_E=e.O()}]);