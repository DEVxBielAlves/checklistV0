(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{38133:(e,s,a)=>{Promise.resolve().then(a.bind(a,92390))},92390:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var i=a(95155),l=a(6874),c=a.n(l),t=a(12115),n=a(88145),r=a(97168),d=a(88482),o=a(99840),x=a(89852),h=a(53580),m=a(61109),u=a(15168);let j=(0,a(19946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=a(23837),N=a(62525),f=a(84616);function v(){let{toast:e}=(0,h.dj)(),[s,a]=(0,t.useState)([]),[l,v]=(0,t.useState)(!1),[w,g]=(0,t.useState)(null),[C,k]=(0,t.useState)(""),[y,b]=(0,t.useState)("");async function z(){v(!0);try{let e=await (0,m.eg)();a(e)}finally{v(!1)}}async function I(s){await (0,m.Yq)(s),e({title:"Checklist exclu\xeddo"}),g(null),k(""),await z()}(0,t.useEffect)(()=>{let e=!0;return(async()=>{try{v(!0);let s=await (0,m.eg)();e&&a(s)}catch(e){}finally{e&&v(!1)}})(),()=>{e=!1}},[]);let L=s.filter(e=>e.dadosIniciais.motorista.toLowerCase().includes(y.toLowerCase())||e.dadosIniciais.inspetor.toLowerCase().includes(y.toLowerCase())||e.dadosIniciais.placa.toLowerCase().includes(y.toLowerCase())||e.titulo.toLowerCase().includes(y.toLowerCase()));return(0,i.jsxs)("main",{className:"mx-auto w-full max-w-[680px] p-3 sm:p-4",children:[(0,i.jsxs)("header",{className:"mb-4",children:[(0,i.jsx)("h1",{className:"text-lg sm:text-xl font-semibold",children:"Checklist Basel"}),(0,i.jsx)("p",{className:"text-xs text-zinc-500",children:"Hist\xf3rico de checklists"}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(x.p,{placeholder:"Buscar por placa, motorista, inspetor ou t\xedtulo",value:y,onChange:e=>b(e.target.value)})})]}),(0,i.jsxs)("div",{className:"grid gap-3",children:[0===L.length&&(0,i.jsx)(d.Zp,{children:(0,i.jsx)(d.Wu,{className:"p-4 text-sm text-zinc-600",children:"Nenhum checklist encontrado."})}),L.map(e=>(0,i.jsxs)(d.Zp,{className:"border-zinc-200 rounded-lg",children:[(0,i.jsxs)(d.aR,{className:"pb-1 px-4 sm:px-6",children:[(0,i.jsxs)(d.ZB,{className:"text-sm sm:text-base flex items-center justify-between",children:[(0,i.jsx)("span",{children:e.titulo}),(0,i.jsx)(n.E,{variant:e.completo?"default":"secondary",children:e.completo?"Completo":"Incompleto"})]}),(0,i.jsxs)("div",{className:"text-[10px] sm:text-[11px] text-zinc-500",children:["Criado em: ",e.criadoEm]})]}),(0,i.jsxs)(d.Wu,{className:"grid gap-1 text-[11px] sm:text-xs text-zinc-700 px-4 sm:px-6",children:[(0,i.jsxs)("div",{children:["Placa: ",e.dadosIniciais.placa]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{children:["Motorista: ",e.dadosIniciais.motorista]}),(0,i.jsxs)("div",{children:["Inspetor: ",e.dadosIniciais.inspetor]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{children:["Marca: ",e.dadosIniciais.marca]}),(0,i.jsxs)("div",{children:["Modelo: ",e.dadosIniciais.modelo]})]})]}),(0,i.jsxs)(d.wL,{className:"flex items-center justify-between gap-2 px-4 sm:px-6",children:[(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(c(),{href:"/checklist/".concat(e.id),className:"inline-flex",children:(0,i.jsxs)(r.$,{variant:"outline",size:"sm",children:[(0,i.jsx)(j,{className:"mr-2 h-4 w-4"}),"Ver mais"]})}),(0,i.jsxs)(r.$,{variant:"outline",size:"sm",onClick:async()=>{let s=await (0,m.ZA)(e.id);s&&(0,u.X)(s)},children:[(0,i.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]}),(0,i.jsxs)(o.lG,{open:w===e.id,onOpenChange:e=>{e||(g(null),k(""))},children:[(0,i.jsx)(o.zM,{asChild:!0,children:(0,i.jsxs)(r.$,{variant:"destructive",size:"sm",onClick:()=>g(e.id),children:[(0,i.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Excluir"]})}),(0,i.jsxs)(o.Cf,{children:[(0,i.jsxs)(o.c7,{children:[(0,i.jsx)(o.L3,{children:"Confirmar exclus\xe3o"}),(0,i.jsxs)(o.rr,{children:["Digite ",(0,i.jsx)("span",{className:"font-semibold",children:"delete"})," para confirmar a exclus\xe3o do checklist."]})]}),(0,i.jsx)(x.p,{autoFocus:!0,placeholder:"Digite delete",value:C,onChange:e=>k(e.target.value)}),(0,i.jsx)(o.Es,{children:(0,i.jsx)(r.$,{variant:"destructive",disabled:"delete"!==C,onClick:()=>I(e.id),children:"Confirmar exclus\xe3o"})})]})]})]})]},e.id))]}),(0,i.jsx)("div",{className:"fixed inset-x-3 bottom-3",children:(0,i.jsx)(c(),{href:"/checklist",className:"block",children:(0,i.jsxs)(r.$,{className:"w-full h-12 rounded-lg shadow-lg",children:[(0,i.jsx)(f.A,{className:"mr-2 h-5 w-5"}),"Novo checklist"]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[930,652,238,366,441,684,358],()=>s(38133)),_N_E=e.O()}]);